(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const e of t)if(e.type==="childList")for(const h of e.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function i(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?e.credentials="include":t.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function o(t){if(t.ep)return;t.ep=!0;const e=i(t);fetch(t.href,e)}})();const f=JSON.parse(`[{"id":0,"background":"The Train Station","characters":["The Engineer"],"dialog":[{"line":"I'm receiving a call...","font":"Rubik"},{"line":"The people on the train need my help with an electromagnet.","font":"Rubik","choices":[{"text":"Investigate","scene":1}]}]},{"id":1,"background":"The Train","characters":["The Engineer","The Conductor"],"dialog":[{"line":"Thank goodness you're here, we have a problem.","font":"TikTok Sans"},{"line":"One of our cargo shipments containing valuable items is not opening.","font":"TikTok Sans","choices":[{"text":"What's wrong?","scene":2},{"text":"I'll check it out.","scene":3}]}]},{"id":2,"background":"The Train","characters":["The Engineer","The Conductor"],"dialog":[{"line":"I don't know all the details, You can talk to our cargo manager about it.","font":"TikTok Sans","choices":[{"text":"I'll check it out.","scene":3}]}]},{"id":3,"background":"The Cargo Hold","characters":["The Engineer"],"dialog":[{"line":"I wonder what could've gone wrong","font":"Rubik","choices":[{"text":"Wait for manager","scene":6},{"text":"Look around","scene":4}]}]},{"id":4,"background":"The Cargo Hold","characters":["The Engineer"],"dialog":[{"line":"Hmm...","font":"Rubik"},{"line":"It's a large crate, with a lock on top.","font":"Rubik"},{"line":"I assume that's the magnet they want me to fix.","font":"Rubik"},{"line":"They might have put too much current into it, that would burn the wire for sure.","font":"Rubik"},{"line":"I've got a few theories, but we'll need more data.","font":"Rubik","choices":[{"text":"Wait for manager","scene":6},{"text":"Keep looking","scene":5}]}]},{"id":5,"background":"The Cargo Hold","characters":["The Engineer"],"dialog":[{"line":"Curious...","font":"Rubik"},{"line":"There's a switch on the wall that redirects the room's current to the next compartment.","font":"Rubik"},{"line":"Well, There's not much I can do until I learn more about this case.","font":"Rubik","choices":[{"text":"Wait for manager","scene":6}]}]},{"id":6,"background":"The Cargo Hold","characters":["The Engineer","The Cargo Assistant"],"dialog":[{"line":"Hi, I'm the one in charge of the cargo.","font":"Comic Relief"},{"line":"Maybe the electromagnet is malfunctioning, which is why the latch hasn't fallen.","font":"Rubik"},{"line":"Oh no, we've checked and double checked, and the magnet is receiving a current.","font":"Comic Relief"},{"line":"Then what's wrong?","font":"Rubik"},{"line":"We don't know. The magnet was tested before being placed in the lock.","font":"Comic Relief"},{"line":"Can't you just take the magnet out to open the lock?","font":"Rubik"},{"line":"The magnet is encased in metal so no-one can steal it.","font":"Comic Relief"},{"line":"What about the batteries?","font":"Rubik"},{"line":"The batteries are in the casing and sending a current.","font":"Comic Relief"},{"line":"Anyways, we've checked the batteries, we've checked everything.","font":"Comic Relief","choices":[{"text":"I'll take it from here.","scene":8},{"text":"Who checked the batteries?","scene":7}]}]},{"id":7,"background":"The Cargo Hold","characters":["The Engineer","The Cargo Assistant"],"dialog":[{"line":"You're the first engineer we've called, but the conductor came to check on it earlier today.","font":"Comic Relief"},{"line":"What did he say about it?","font":"Rubik"},{"line":"Not much. He said the batteries were in, so it should work.","font":"Comic Relief"},{"line":"Hmm... That's suggestive.","font":"Rubik"},{"line":"Well, is there anything you need me to do?","font":"Comic Relief","choices":[{"text":"Call the conductor.","scene":12}]}]},{"id":8,"background":"The Cargo Hold","characters":["The Engineer"],"dialog":[{"line":"The magnet is encased in metal, huh.","font":"Rubik"},{"line":"It's possible that they don't have a working electromagnet...","font":"Rubik"},{"line":"they have two.","font":"Rubik"},{"line":"If there was a magnetetic field opposite to the electromagnet, it would repel the latch.","font":"Rubik"},{"line":"Aha! As I expected, the coil of wire has been tangled, and is touching the metal casing.","font":"Rubik","choices":[{"text":"Call the conductor.","scene":9}]}]},{"id":9,"background":"The Train","characters":["The Engineer","The Conductor"],"dialog":[{"line":"What is it? I'm really quite busy","font":"TikTok Sans"},{"line":"The crate.","font":"Rubik"},{"line":"What about it? did you open it?","font":"Comic Relief"},{"line":"Come with me.","font":"Rubik","choices":[{"text":"Solve The Mystery.","scene":10}]}]},{"id":10,"background":"The Cargo Hold","characters":["The Engineer","The Conductor"],"dialog":[{"line":"You do know my time is valuable, right?","font":"TikTok Sans"},{"line":"Then I'll get to the point.","font":"Rubik","choices":[{"text":"Flick The Switch.","scene":11}]}]},{"id":11,"background":"The Cargo Hold","characters":["The Engineer","The Conductor"],"dialog":[{"line":"You see, the switch was connected to the electromagnet. But it was also connected to this metal casing.","font":"Rubik"},{"line":"When the casing was charged by electricity, it generated a magnetic field opposing the first one,","font":"Rubik"},{"line":"This was destructively interfering with the elctromagnet and causing it to stay locked.","font":"Rubik"},{"line":"Once you rotate this casing, the fields constructively interfere, and...","font":"Rubik"},{"line":"Click.","font":"Rubik"},{"line":"The lock opens.","font":"Rubik","choices":[{"text":"Restart.","scene":0}]}]},{"id":12,"background":"The Train","characters":["The Engineer","The Conductor"],"dialog":[{"line":"What is it? My time is valuable.","font":"TikTok Sans"},{"line":"The crate.","font":"Rubik"},{"line":"What about it? did you open it?","font":"Comic Relief"},{"line":"Come with me.","font":"Rubik","choices":[{"text":"Solve The Mystery.","scene":13}]}]},{"id":13,"background":"The Cargo Hold","characters":["The Engineer","The Conductor"],"dialog":[{"line":"I'm a very busy person.","font":"TikTok Sans"},{"line":"Then I won't waste time.","font":"Rubik","choices":[{"text":"Remove the battery.","scene":14}]}]},{"background":"The Cargo Hold","characters":["The Engineer","The Conductor"],"dialog":[{"line":"You see, this electromagnet is made of a coil of wire being charged from left to right.","font":"Rubik"},{"line":"When a current was sent through the coil, it generated a magnetic field up to down, pushing the latch up.","font":"Rubik"},{"line":"When you flip the battery around, and put it back in...","font":"Rubik"},{"line":"Click.","font":"Rubik"},{"line":"The lock opens.","font":"Rubik","choices":[{"text":"Restart.","scene":0}]}]}]`),l=document.body,a=l.children[2],g=document.querySelector(".helpers");let s=0,r=0,d=!1;const k=(n,c)=>{a.children[1].children[1].innerHTML="",a.children[2].innerHTML="",d=!0;let i=0,o=setInterval(()=>{g.style.display="none",i<n.length?(a.children[1].children[1].innerHTML+=n[i],i+=1):(clearInterval(o),d=!1,c.forEach(t=>{let e=document.createElement("button");e.innerHTML=t.text,e.onclick=()=>{m(t.scene)},a.children[2].appendChild(e)}),s==0&&r==1&&(g.style.display="block"))},30)},b={Rubik:"The Engineer","TikTok Sans":"The Conductor","Comic Relief":"The Cargo Assistant"},u=()=>{const n=f[s];let c=[];if(r<n.dialog.length&&!d){const i=n.dialog[r];r==n.dialog.length-1&&(c=i.choices),a.children[1].children[0].innerHTML=b[i.font],a.children[1].children[0].style["font-family"]=i.font,k(i.font=="Rubik"?i.line:`"${i.line}"`,c),r++}},T=()=>{const n=f[s];l.children[0].setAttribute("image",n.background);const c=[...l.children[1].children];c.forEach(o=>{n.characters.includes(o.name)||(o.removeAttribute("visible"),setTimeout(()=>{l.children[1].removeChild(o)},400))}),n.characters.forEach(o=>{let t=[];if(c.forEach(e=>{t+=e.name}),!t.includes(o)){let e=document.createElement("div");e.setAttribute("image",o),o=="The Engineer"?e.classList.add("left"):e.classList.add("right"),e.name=o,setTimeout(()=>{e.setAttribute("visible","true")},100),l.children[1].appendChild(e)}});const i=n.dialog[r];a.children[1].children[1].style["font-family"]=i.font,a.children[1].children[1].innerHTML="",a.children[2].innerHTML="",setTimeout(()=>{u()},800)};document.addEventListener("keydown",n=>{(n.key==" "||n.key=="Enter")&&u()});document.querySelector(".dialog-box").addEventListener("click",n=>{u()});const m=n=>{s=n,r=0,T()};m(0);
